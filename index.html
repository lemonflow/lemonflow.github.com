<!doctype html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Lemonflow by Philipp Fischer</title>
        <link rel="stylesheet" href="stylesheets/styles.css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <!--[if lt IE 9]>
            <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
    
    <body>
        <div class="wrapper">
            <header>
                <h1>
                    <img src="img/icon.png" />  Lemonflow</h1>
                <p>Framework for rapid creation of flexible, animated, and data-driven UIs & information visualizations</p>
                <p class="view">
                    <a href="https://github.com/lemonflow/lemonflow">View the Projects on GitHub
                        <small>
                            <br>lemonflow/lemonflow
                            <br>lemonflow/lemonflow.js
                            <br>lemonflow/lemonflow-server</small>
                    </a>
                </p>
                <ul>
                    <li>
                        <a href="https://github.com/lemonflow/lemonflow/zipball/master">Download
                            <strong>ZIP File</strong>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/lemonflow/lemonflow/tarball/master">Download
                            <strong>TAR Ball</strong>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/lemonflow/lemonflow">View On
                            <strong>GitHub</strong>
                        </a>
                    </li>
                </ul>
            </header>
            <section>
                <h2>General</h2>
                <p>lemonflow is a framework for holisitic prototyping of animated data-driven user interfaces & visualizations. The structured & flexible approach
                of lemonflow can also be helpful for delivering the UI layer for entire applications on target platforms. 
                A specific strength of this framework is the first-level support for animations & transition, dynamic data streams, 
                and predictive context-aware processing of information.
             </p>
                <p>
                The framework provides a reference implementation of certain novel concepts following well-researched and validated approaches. 
                Having a tool to apply such powerful concepts in a easy, quick, and natural way can be very helpful to keep focused and organized, yet innovative and creative
                 in fast-pace projects. Often creative developers
                have to create small design sketches but then are required to scale up to entire interactive product experiences - ideas get added very rapidly and
                the desire to see the "whole picture" is always there. Structure in source code and avoiding "spaghetti code" can help to keep pace in projects, 
                when ideas flow and have to be prototyped/visualized quickly.
                </p>
                <p>lemonflow in its core builds upon the idea that data sources/models are bound to visual properties of the elements on screen and drive their layout. 
                It is thereby inspired and based on the scientific work of Jeffrey Heer and his practical visualization frameworks prefuse, flare, protovis and D3.
                 </p>
                <p>
                  lemonflow extends these framework in certain aspects:</p>
                <ul>
                    <li>unified concept of componentized UIs & data visualizations</li>
                    <li>adds states & transisitons</li>
                    <li>supports tweener-like explicit animations</li>
                    <li>supports dynamic data collections and data streams</li>
                    <li>build-in prediction/recommendation engine</li>
                    <li>context-aware information processing</li>
                </ul>
                  <p><small>   Keywords: Animations, Meaningful Transitions, Visual Metaphors, Information/Data Visualization, UI components & flow, Information Architecture, 
                Predictions, Granular Information System, Recommender, Personzalization, Adaptive UI, Context-aware Processing, Data Streams, Collaborative Filtering
             </small>
                  </p>
              
                 <h2>Developer Info</h2>
                <h3>How to get the source code</h3>
                <pre><code>$ git clone https://github.com/lemonflow/lemonflow.git</code></pre>
                <pre><code>$ git clone https://github.com/lemonflow/lemonflow.js.git</code></pre>
                <h3>Tags and Update History</h3>
                <ul>
                    <li>
                            <span class="tag-name">2.48</span>  (
                         <a href="https://github.com/lemonflow/lemonflow/tree/v248" rel="nofollow">
                            <span></span>tree</a> |
                        <a href="/lemonflow/lemonflow/archive/v248.zip" rel="nofollow">
                            <span></span>zip</a> )
                            <br>changed UIDataGroup to have common interface to starling or flex renderers
                    </li>
                    <li>
                            <span class="tag-name">2.47</span>  (
                           
                         <a href="https://github.com/lemonflow/lemonflow/tree/v247" rel="nofollow">
                            <span></span>tree</a> |
                        <a href="/lemonflow/lemonflow/archive/v247.zip" rel="nofollow">
                            <span></span>zip</a> )
                             <br>added flare package and support for flare data structures and renderers
                    </li>
                    <li>
                            <span class="tag-name">2.46</span>  (
                           
                         <a href="https://github.com/lemonflow/lemonflow/tree/v246" rel="nofollow">
                            <span></span>tree</a> |
                        <a href="/lemonflow/lemonflow/archive/v246.zip" rel="nofollow">
                            <span></span>zip</a> )
                             <br>added manual mxml loader; added starling framework; added manifests that instantiate sprites using Starling (Stage3D-backed) render surfaces; some changes to invalidate displaylist; added UIGroupStarling
                    </li>
                    <li>
                            <span class="tag-name">2.45</span>  (
                         <a href="https://github.com/lemonflow/lemonflow/tree/v245" rel="nofollow">
                            <span></span>tree</a> |
                        <a href="/lemonflow/lemonflow/archive/v245.zip" rel="nofollow">
                            <span></span>zip</a> )
                             <br>added changes for lemonflow made in CES (kinect freehand gesture events)
                    </li>
                    <li>
                            <span class="tag-name">2.44</span>  (
                         <a href="https://github.com/lemonflow/lemonflow/tree/v244" rel="nofollow">
                            <span></span>tree</a> |
                        <a href="/lemonflow/lemonflow/archive/v244.zip" rel="nofollow">
                            <span></span>zip</a> )
                             <br>started some initial implementation of the composite ui components (they will be state-driven and adopt the concept of state model from ComponentController) - fixed some bugs in the UIDataGroup; setting dataprovider assumes that it will load later and then trigger UI item render plugging; however in case the dataprovider immediatly is available, then itemrenderers will not get triggered to load data. - added load from bytearray method to ModelBase - needed for embedded xml models
                    </li>
                    <li>
                            <span class="tag-name">2.43</span>  (
                         <a href="https://github.com/lemonflow/lemonflow/tree/v243" rel="nofollow">
                            <span></span>tree</a> |
                        <a href="/lemonflow/lemonflow/archive/v243.zip" rel="nofollow">
                            <span></span>zip</a> )
                              <br>Initial Version under Git Version Control
                    </li>
                </ul>
                <h3>Source Code Languages & Dependencies</h3>
                <p>Four implementations of lemonflow exist. The most complete one is the ActionsScript branch, requiring Flash/AIR for all graphics rendering. 
                Javascript is the language, where the focus lays right now - we envision to reduce dependencies on proprietary technology and build on webplatform technologies.</p>
                <ul>
                    <li>Java (deprecated):
                        <br>depends on the Java SWT GUI framework (Eclipse)</li>
                    <li>JavaScript-QT (experimental):
                        <br>runs with javascript runtime provided as integrated engine for QML Runtime; requires QT version minimum 5.0.1</li>
                    <li>ActionScript:
                        <br>compiles for and runs with adobe flash runtime, AVM2. Runs in Adobe AIR (tested versions up to AIR 3.3) and Flash Player (tested up to 11.3); lemonflow can use Stage3D, Flex or Standard Flash DisplayObjects as Render Surfaces. Stage3D is GPU-accelerated  </li>
                    <li>JavaScript:
                        <br>ECMAScript 5; runs with a javascript runtime, e.g. Google V8; renders onto WebGL surface, HTML5 Canvas or divs. The JS source files in this repo are automatically generated from TypeScript; TypeScript is a superset of JavaScript which roughly goes in line with ECMAScript 6</li>
                </ul>
                <h2>Framework Concepts</h2>
                <h3>UI Control & Flow</h3>
                <h4>Within a view </h4>
                
The flow (focus or navigation) of a user interface view is defined as a JSON Model attached to the controller of this view. The json model triggers an automatic mechnism of adding and removing event listener
to the respective items and views. This is not an exclusive approach - it is still possible to manually attach event listeners and triggered custom function calls.              
    
<pre><code>
{
  state:"main", 
  changes:
  [ 
    {  
       type:"viewAttached",   
       transition:[],  
       newState:"main"
    },
    {  
       type:NInputEvent.DOWN_RELEASED,  
       transition:[TransitionMainToBar], 
       newState:"bar"
    }
  ]
},
{
  state:"bar", 
  changes:
  [   
    {
      type:[NInputEvent.UP_RELEASED, NInputEvent.BACK_RELEASED],  
      transition:[TransitionBarToMain], 
      newState:"main"
    }
   ]
}

</code></pre>
<h4>Focus Change between multiple views </h4>

<p>...</p>
<h3>Dynamic Layouting - Visual Operators</h3>
          
  <pre><code>
package lemonflow.components.menubar
{
  import lemonflow.ui.base.InteractiveOperator;
  import lemonflow.ui.base.VisualItem;
  
  public class OperatorBarLayout extends lemonflow.ui.base.InteractiveOperator
  {
    protected var _view:* = null;
    private var floatingIdx:Number = 0;
    
    public var itemSpacing:int = 87;
    public var totalWidth:int = 940;
    public var offsetLeft:int = 40;
    public var offsetRight:int = 40;
    
    public var itemsWidths:Array = new Array();
    public var itemsWidthSum:Number = 0;
    public var itemsPositions:Array = new Array();
    
    public function OperatorBarLayout(v:*) {
      _view = v;
    }
    
    override public function update(slots:Vector.<VisualItem> = null, currentIdx:Number = 0, nextIndex:Number = 0):void {
      itemsWidthSum = 0;
      for(var i:int=0; i<_view.slots.length; i++) {
        itemsWidths[i] = MenuBarItemRenderer(_view.renderers[i]).textMask.width;
        itemsWidthSum+=itemsWidths[i];
      }
      
      itemSpacing = _view.dataProvider.length>0?((totalWidth-itemsWidthSum)-(offsetLeft + offsetRight))/(_view.dataProvider.length-1):0;
      
      for(var k:int=0; k<_view.slots.length; k++) {
        itemsPositions[k] = (k>0?(itemsWidths[k-1]+itemSpacing):0);
        if(k>0) itemsPositions[k] += itemsPositions[k-1];
      }
      
      for(var j:int=0; j<_view.slots.length; j++) {
        floatingIdx = j-_view.currentIndex;
        _view.slots[j].x =  offsetLeft+itemsPositions[j];
        _view.slots[j].y =  _view.centerXYZ.y + 4;
        _view.slots[j].visible = (floatingIdx<=5);
      }

    }
  }
}
</code></pre>        
          
          
<h3>UI Components vs. Visualizations</h3>

        
              <p> Lemonflow addreses a common (quite artifical) distinction occurant in software architecture of component-based GUI frameworks vs. information visualization frameworks. 
                  However, developers/designers tend to blur these boundaries in concept phases of projects - often creating information visualization screens as interactive components.
                  Sometimes visualization algorhithms suit as a basic visual metaphor for the an entire UI (e.g. gravitation model of items). UI components might animate and transition
                  into each other as if they were just elements in a larger dynamic visualization algorithm.
                  -- insert picture --
                  </p>
                  <p>
                  lemonflow suits both needs and integrates these two approaches in structured fashion. Later we will run through an example which illustrates the distiction
                  
                  
                                    </p>
                  <p>
                  Component-based frameowrks structure the UI in views, which the developer/designer can layout with components and connect to each other, e.g. lists, menu bars, screens, tabs, side bars arranged in views; 
                  Programmatic rules get implemented, such as if user clicks on element x, then go to next screen. Mostly frameworks use event-based handlers attached to buttons or views
                  to navigate through the views with components. Individual components are bound to data, e.g. a list will have a collection feeding each list entry, a button will
                  have a label source which supplies the label textual content.
                </p>
                  <p>
                  
                  On the other end, we see frameworks for dynamic data visualizations. In these frameworks, the designer/developer first loads
                  a data collection (mostly from a file or database) and then applies a certain layout mechanism to visualize the data. Analytical abstraction
                  can be created in an intermediate step. For example, well-known visualization would be a tree layout, pie chart etc. 
                  </p>
                  <p>
                  It might not be immediatly occurant why the underlying mechanisms in these frameworks are similar - but deep down there are common patterns 
                  and lemonflow merges these approaches: Both approaches use data, bound to visual elements. Both approaches calculate algorithmically the position/layout of several child elements
                    for a given component based on the data fields. 
                    
                  </p>

              
   
 
          
<h3>Authors and Contributors</h3>

<p>In 2005-2013, Philipp Fischer (<a href="https://github.com/lemonflow" class="user-mention">@lemonflow</a>)</p>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/lemonflow">Philipp Fischer</a></p>
        <p><small>Hosted on GitHub Pages &mdash; v130317</small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>